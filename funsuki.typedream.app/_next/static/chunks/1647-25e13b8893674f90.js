"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1647,3595,4601],{81647:function(t,e,i){i.d(e,{O:function(){return w}});var n=i(52322),r=i(96577),l=i.n(r),a=i(2784),o=i(25237),s=i.n(o),u=i(47460),c=i(6804),d=i(79434),p=i(88262),m=i(18851),_=i(24097);let v=t=>{var e;let{isChildTemplate:i,childTemplateSlug:n}=t,r=(0,a.useContext)(d.u),l=(0,a.useContext)(u.z),o=null==l||null===(e=l.customization)||void 0===e?void 0:e.item_page_data,s=(0,a.useCallback)((async()=>{var t,e;if(o&&l&&(null==r?void 0:r.routes)&&n){let i=(0,p.wo)(r.routes),a=await(null===(t=(0,m.Z)(o?.integration))||void 0===t?void 0:t.getDataBySlug(null==r?void 0:r.id,o,n)),s=(0,_.Z)(null==a||null===(e=a.data)||void 0===e?void 0:e[0],o,l.id,i[l.id],c.Z,l.published_content[0]);l.setPublishedContent([s])}}),[o,l,null==r?void 0:r.routes,null==r?void 0:r.id,n]);(0,a.useEffect)((()=>{i&&n&&(null==o?void 0:o.expiresAt)&&(new Date).getTime()>new Date(o?.expiresAt).getTime()-1e4&&s()}),[null==o?void 0:o.expiresAt,n,i])};var h=i(58079),f=i(78973),g=class{static async submit(t,e){let i=new f.Z;return await i.post("/form/submission/".concat(t),e)}};let y=s()((()=>Promise.all([i.e(7775),i.e(41),i.e(1731),i.e(7606)]).then(i.bind(i,7606)).then((t=>t.CollectionProvider))),{loadableGenerated:{webpack:()=>[7606]}}),b=s()((()=>Promise.all([i.e(8070),i.e(726),i.e(7696),i.e(9422),i.e(4496)]).then(i.bind(i,59422)).then((t=>t.Serializer))),{loadableGenerated:{webpack:()=>[59422]}});function w(t){let{isChildTemplate:e,childTemplateSlug:i,children:r}=t,o=(0,a.useContext)(u.z);return v({isChildTemplate:e,childTemplateSlug:i}),(0,n.jsx)(b,{node:o.published_content[0],optimizedImageComponent:l(),collectionProviderComponent:y,isImageOptimizable:h.q,handleFormSubmission:g.submit,rootClassName:"typedream content",children:r})}w.defaultProps={childTemplateSlug:void 0}},47460:function(t,e,i){i.d(e,{T:function(){return o},z:function(){return a}});var n=i(52322),r=i(32957),l=i(2784);let a=(0,l.createContext)(null);function o(t){let{page:e,children:i}=t,[o,s]=(0,l.useState)(e);(0,l.useEffect)((()=>{e.id===o.id&&((0,r.Z)(e,o)||o.modified)||s(e)}),[e]);let u=(0,l.useMemo)((()=>({...o,setPublishedContent:t=>{s({...o,published_content:t,modified:!0})}})),[o]);return(0,n.jsx)(a.Provider,{value:u,children:i})}},79434:function(t,e,i){i.d(e,{M:function(){return l},u:function(){return r}});var n=i(52322);let r=(0,i(2784).createContext)(null);function l(t){let{space:e,children:i}=t;return(0,n.jsx)(r.Provider,{value:e,children:i})}},16318:function(t,e,i){var n=i(203),r=i(75619);let l=(t,e,i,a,o)=>{let{collection_connect_data:s,collection_connect_data_keys:u}=o,c={...o};return s&&(null==u||u.forEach((l=>{let{schemaKey:o,blockElementKey:s}=l,u=e[o],d=t[u];if(d)c[s]=String(d);else if(u!==r.Si||!n.W_.isElement(c)||"a"!==c.type&&"button"!==c.type&&"container"!==c.type&&"img"!==c.type)c[s]="";else{c.page_id=i,c.internal_link=!0;let e="".concat("/".concat(a.join("/")),"/").concat(t[r.OH.SLUG.fieldName]);"img"===c.type?c.href=e:c.url=e}}))),n.W_.isElement(c)&&(c.children=c.children.map((n=>l(t,e,i,a,n)))),c};e.Z=l},18851:function(t,e,i){i.d(e,{Z:function(){return x}});var n,r=i(78973),l=class{static async queryItems(t,e,i){let n=[];t.limit?n.push("limit=".concat(t.limit)):n.push("limit=50"),t.offset?n.push("offset=".concat(t.offset)):n.push("offset=0");let l=new r.Z;return(await l.post("/collectionitem/public/list/".concat(e).concat(n.length>0?"?".concat(n.join("&")):""),i)).data}},a=i(12779);class o{getCollectionData(){return{id:this.id,space_id:this.space_id,created_at:this.created_at,updated_at:this.updated_at,deleted_at:this.deleted_at,public_permission:this.public_permission,type:this.type,field:this.field}}getFormData(){return{id:this.id,space_id:this.space_id,updated_at:this.updated_at||(new Date).toString(),published_at:(new Date).toString(),name:this.field.name,webhook:this.field.webhook,schemaVersion:this.field.schemaVersion,schema:this.field.schema,form_type:this.field.form_type}}static isSchemaTypeWithOptions(t){return t&&"text"!==t.type&&"number"!==t.type&&"email"!==t.type}getViewLimit(t){if("form"===this.type){if("email_collection"===this.field.form_type)switch(t){case a.Lb.PRO:case a.Lb.LAUNCH:case a.Lb.MINI:return{unlimited:!0,minimumPlan:a.Lb.MINI};case a.Lb.FREE:default:return{limit:1,unlimited:!1,minimumPlan:a.Lb.MINI}}switch(t){case a.Lb.PRO:return{unlimited:!0,minimumPlan:a.Lb.PRO};case a.Lb.FREE:case a.Lb.MINI:case a.Lb.LAUNCH:default:return{limit:1,unlimited:!1,minimumPlan:a.Lb.PRO}}}return{unlimited:!0,minimumPlan:a.Lb.FREE}}constructor(t){var e,i;if(this.schemaVersion=0,t&&(e=t)&&e.name)return this.id=t.id,this.space_id=t.space_id,this.deleted_at=(new Date).toString(),this.updated_at=t.updated_at,this.created_at=(new Date).toString(),this.type="form",this.public_permission=2,void(this.field={name:t.name,schemaVersion:this.schemaVersion,webhook:t.webhook,schema:t.schema,form_type:t.form_type});if(!t||t&&t.name)this.id="",this.space_id="",this.deleted_at=(new Date).toString(),this.updated_at=(new Date).toString(),this.created_at=(new Date).toString(),this.public_permission=2,this.field={name:"",schemaVersion:this.schemaVersion,webhook:{},schema:{}},this.type="form";else{if(this.id=t.id,this.space_id=t.space_id,this.created_at=t.created_at,this.updated_at=t.updated_at,this.deleted_at=t.deleted_at,this.type="form",this.public_permission=2,!((i=t.field)&&i.name&&i.schema))throw Error("Invalid form collection field schema");this.field={...t.field}}}}class s{static isCMS(t){return t&&"cms"===t.type}static getDefaultCMSField(){return{name:"Blog",schemaVersion:0,schema:{0:{name:"Image",type:"image",deleted:!1}},preset_schema:{title:{name:"Title",type:"text",deleted:!1},slug:{name:"Slug",type:"text",deleted:!1},metadata:{name:"Metadata",type:"object",deleted:!1},published_at:{name:"Published At",type:"date",deleted:!1},content:{name:"Content",type:"rich_text",deleted:!1},published_content:{name:"Published Content",type:"rich_text",deleted:!1}}}}static isSchemaTypeWithOptions(t){return t&&("selection"===t.type||"multiselection"===t.type)}static getDefaultCMSItems(t){return[{title:"How to sell your digital products",snippet:"Start selling your digital products with a few simple steps.",slug:"how-to-sell-your-digital-products",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/06acde81-5a0d-4f50-a48d-eaf4fbc08f8b/2UKkJWvDgmZiA2bBDLXX2f0tRE1_philip-jahn-PYkpulrIMG0-unsplash_Medium.jpeg"},{title:"How to start email marketing",snippet:"Email marketing is a great way to reach your customers.",slug:"how-to-start-email-marketing",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/08ed9f24-125c-4caa-9d3b-c1233537e0c6/2UQ5bkdooaR5OKEmoFxITtRaXnc_orva-studio-YC8qqp50BdA-unsplash_Medium.jpeg"},{title:"Start your creator journey with a freebie",snippet:"One of the best ways to get started is to give away something for free.",slug:"start-your-creator-journey-with-a-freebie",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/08ed9f24-125c-4caa-9d3b-c1233537e0c6/2UQ5eB7UTWLOzXlXbKSswM6YsDW_nadine-marfurt-BHZPATWnn-o-unsplash_Medium.jpeg"},{title:"Why you should start a blog",snippet:"Blogging is a great way to establish yourself as an expert in your field.",slug:"why-you-should-start-a-blog",publishedAt:new Date,image:"https://api.typedream.com/v0/document/public/08ed9f24-125c-4caa-9d3b-c1233537e0c6/2UQ5jWjzJohlz5LCCmozkTeMJcy_matt-artz-GmT0kql0k40-unsplash_Medium.jpeg"}].map((e=>({collection_id:t,deleted:!1,public:!0,document:{fields:{0:e.image},preset_fields:{title:e.title,slug:e.slug,published_at:e.publishedAt.toString(),metadata:{metatags:{title:e.title,description:e.snippet}}}}})))}constructor(t){if(this.schemaVersion=0,t&&s.isCMS(t))return this.id=t.id,this.space_id=t.space_id,this.deleted_at=(new Date).toString(),this.updated_at=t.updated_at,this.created_at=(new Date).toString(),this.type="cms",this.public_permission=3,void(this.field={name:t.field.name,schemaVersion:this.schemaVersion,schema:t.field.schema,preset_schema:t.field.preset_schema});this.id="",this.space_id="",this.deleted_at=(new Date).toString(),this.updated_at=(new Date).toString(),this.created_at=(new Date).toString(),this.public_permission=3,this.field=s.getDefaultCMSField(),this.type="cms"}}let u=t=>t.toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),c={getItemPageDataID:t=>{let e=null==t?void 0:t.integration,i=null==t?void 0:t.tableID;return"".concat(e,"_").concat(i)},constructGetDataResult:t=>{var e;if("form"===t.collection.type){let i=new o(t.collection),{schema:n}=i.field,r=null===(e=t.results)||void 0===e?void 0:e.map((t=>{if(!t.deleted&&t.public){let e=Object.entries(t.document).reduce(((t,e)=>{let[i,r]=e,l=parseInt(i,10),a=n[l],s=r;return o.isSchemaTypeWithOptions(a)&&(s=r.map((t=>{var e;return null===(e=a.options[t])||void 0===e?void 0:e.name}))),{...t,[l]:s}}),{});return{...e,created_at:t.created_at,id:t.id}}})).filter((t=>void 0!==t));return{data:r,has_more:!!t.hasMore,next_cursor:"".concat(t.nextOffset),expires_at:null}}if("cms"===t.collection.type){let e=new s(t.collection),{schema:i,preset_schema:n}=e.field,r=t.results,l=null==r?void 0:r.map((t=>{if(!t.deleted&&t.public){let{fields:e}=t.document,r=Object.entries(e).reduce(((t,e)=>{let[n,r]=e,l=i[n],a=r;return s.isSchemaTypeWithOptions(l)&&(a=r.map((t=>{var e;return null===(e=l.options[t])||void 0===e?void 0:e.name}))),"date"===l.type&&(a=u(new Date(r))),{...t,[n]:a}}),{}),l=Object.entries(t.document.preset_fields).reduce(((t,e)=>{let[i,r]=e,l=r;return"date"===n[i].type&&(l=u(new Date(r))),{...t,[i]:l}}),{});return{...r,...l,created_at:t.created_at,id:t.id}}})).filter((t=>void 0!==t));return{data:l,has_more:!!t.hasMore,next_cursor:"".concat(t.nextOffset),expires_at:null}}return{data:[],has_more:!1,next_cursor:"",expires_at:null}},getData:async(t,e,i,n)=>{var r,o;let s,u=null==e?void 0:e.tableID;if(!u)throw Error("Invalid collection id ".concat(u));let d=null==e||null===(r=e.metadata)||void 0===r?void 0:r[a.td.MAX_ITEMS],p=i?parseInt(i,10):0,m=null==e||null===(o=e.metadata)||void 0===o?void 0:o[a.td.VISITOR_FILTER_COLUMN];m&&n&&(s={path:[m],value:n});let _=await l.queryItems({limit:d,offset:p},u,s);return c.constructGetDataResult(_)},getColumnSelectOptions:()=>{throw Error("Not Implemented")},tableConnected:()=>{throw Error("Not Implemented")},getDataBySlug:()=>{throw Error("Not Implemented")},getColumnNames:()=>{throw Error("Not Implemented")},getDataWithSearchQueryAndFilter:()=>{throw Error("Not Implemented")},getDataOnBuild:()=>!0};var d=i(23595),p=i(9669),m=i.n(p),_=i(31691),v=i(75619),h=class{static getDataQuery(t,e,i,n,r,l){return{path:"/app/proxy_public/".concat(t,"/notion"),data:{url:"https://api.notion.com/v1/databases/".concat(e,"/query"),method:"POST",header:{"Content-Type":"application/json","Notion-Version":"2021-08-16"},body:{filter:i,sorts:n,start_cursor:r,page_size:l||void 0}},app:"notion"}}static async callQuery(t,e){let i=new r.Z;return await i.post(t,e)}static async getTable(t,e){let i=new r.Z;return await i.post("/app/proxy_public/".concat(t,"/notion"),{url:"https://api.notion.com/v1/databases/".concat(e),method:"GET",header:{"Content-Type":"application/json","Notion-Version":"2021-08-16"}})}};(n||(n={})).TABLE_ID="tableID";let f={title:{key:"contains",type:"string"},text:{key:"contains",type:"string"},rich_text:{key:"contains",type:"string"},number:{key:"equals",type:"number"},checkbox:{key:"equals",type:"boolean"},select:{key:"equals",type:"string"},multi_select:{key:"contains",type:"string"},date:{key:"equals",type:"true"},url:{key:"contains",type:"string"},email:{key:"contains",type:"string"},phone:{key:"contains",type:"string"},phone_number:{key:"contains",type:"string"},created_time:{key:"equals",type:"true"},last_edited_time:{key:"equals",type:"true"}},g={title:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},text:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},rich_text:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},number:{equals:"number",does_not_equal:"number",greater_than:"number",less_than:"number",greater_than_or_equal_to:"number",less_than_or_equal_to:"number",is_empty:"true",is_not_empty:"true"},checkbox:{equals:"boolean",does_not_equal:"boolean"},select:{equals:"string",does_not_equal:"string",is_empty:"true",is_not_empty:"true"},multi_select:{contains:"string",does_not_contain:"string",is_empty:"true",is_not_empty:"true"},date:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"},files:{is_empty:"true",is_not_empty:"true"},url:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},email:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},phone:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},phone_number:{equals:"string",does_not_equal:"string",contains:"string",does_not_contain:"string",starts_with:"string",ends_with:"string",is_empty:"true",is_not_empty:"true"},created_time:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"},last_edited_time:{equals:"string",before:"string",after:"string",on_or_before:"string",on_or_after:"string",is_empty:"true",is_not_empty:"true"}},y=t=>{try{let e=new Date(Date.parse(t)).toISOString().split("Z")[0],[i,n]=e.split("T"),r=n.split(":").slice(0,2).join(":");return"".concat(i).concat("00:00"!==r?" ".concat(r):"")}catch(e){return t}},b=t=>{var e,i,n,r,l,a,o,s,u,c,d,p,m,_,v,h,f,g,w,q;let x=t.type,k=null,C=null;switch(x){case"title":case"rich_text":C=null==t||null===(i=t[x])||void 0===i||null===(e=i.map((t=>t.plain_text)))||void 0===e?void 0:e.join("");break;case"string":case"checkbox":case"url":case"email":case"phone_number":case"number":C=null==t?void 0:t[x];break;case"multi_select":C=null==t||null===(n=t[x])||void 0===n?void 0:n.map((t=>t.name)).join(", ");break;case"date":C=y(null==t||null===(r=t[x])||void 0===r?void 0:r.start),(null==t||null===(l=t[x])||void 0===l?void 0:l.end)&&(C="".concat(C," - ").concat(y(null==t||null===(a=t[x])||void 0===a?void 0:a.end)));break;case"people":C=null==t||null===(o=t[x])||void 0===o?void 0:o.map((t=>t.name)).join(", ");break;case"files":"file"===(null==t||null===(u=t[x])||void 0===u||null===(s=u[0])||void 0===s?void 0:s.type)?(C=null==t||null===(p=t[x])||void 0===p||null===(d=p[0])||void 0===d||null===(c=d.file)||void 0===c?void 0:c.url,k=null==t||null===(v=t[x])||void 0===v||null===(_=v[0])||void 0===_||null===(m=_.file)||void 0===m?void 0:m.expiry_time):C=null==t||null===(g=t[x])||void 0===g||null===(f=g[0])||void 0===f||null===(h=f.external)||void 0===h?void 0:h.url;break;case"formula":return b(null==t?void 0:t[x]);case"created_time":case"last_edited_time":C=y(null==t?void 0:t[x]);break;case"select":case"created_by":case"last_edited_by":C=null==t||null===(w=t[x])||void 0===w?void 0:w.name;break;case"rollup":{let e=null==t?void 0:t[x].type;if("array"===e){let i=null==t||null===(q=t[x][e])||void 0===q?void 0:q.map((t=>{let{propValue:e,expiresAt:i}=b(t);return(!k||i&&new Date(i).getTime()<new Date(k).getTime())&&(k=i),e}));C=i.join(",")||"";break}C=b(null==t?void 0:t[x]),(null==t?void 0:t[x].function.includes("percent"))&&(C="".concat(Math.round(1e3*Number(C.propValue))/10,"%"));break}default:C=""}return{propValue:C,expiresAt:k}};function w(t,e){if(void 0===e)return e;switch(t){case"string":return"".concat(e);case"number":if(!e||Number.isNaN(e)||Number.isNaN(parseFloat(String(e)))||Number.isNaN(Number(e)))return;return parseFloat(String(e));case"date":if(!(0,_.Z)(e))return;return(t=>{let e=new Date(Date.parse("".concat(t," GMT+0000"))).toISOString().split("Z")[0],[i,n]=e.split("T"),r=n.split(":").slice(0,2).join(":");return"".concat(i).concat("00:00"!==r?" ".concat(r):"")})(String(e));case"boolean":if("string"!=typeof e)return e;if("true"!==(null==e?void 0:e.toLowerCase())&&"false"!==(null==e?void 0:e.toLowerCase()))return;return"true"===(null==e?void 0:e.toLowerCase());case"true":if("string"!=typeof e)return e;if("true"!==(null==e?void 0:e.toLowerCase()))return;return"true"===(null==e?void 0:e.toLowerCase());default:return e}}let q={getColumnNames:async(t,e)=>{var i;let r=null==e?void 0:e[n.TABLE_ID],l=await h.getTable(t,r),a=null==l||null===(i=l.data)||void 0===i?void 0:i.properties;if(!a)return{};let o={};return Object.keys(a).forEach((t=>{o[t]={id:a[t].id,type:a[t].type,name:t}})),o},getColumnSelectOptions:async(t,e,i)=>{var r,l;let a=null==i?void 0:i[n.TABLE_ID],o=await h.getTable(t,a),s=null==o||null===(l=o.data)||void 0===l||null===(r=l.properties)||void 0===r?void 0:r[e];return s?s[s.type].options.map((t=>t.name)):[]},getDataQuery:(t,e,i,r)=>{var l,a;let o=null==e?void 0:e[n.TABLE_ID],s=null==e?void 0:e.metadata,u=(null==s?void 0:s.filter_column)?{property:s.filter_column,[s.filter_column_type]:{[s.filter_condition]:w(null===(l=g[s.filter_column_type])||void 0===l?void 0:l[s.filter_condition],s.filter_value)}}:void 0,c=(null==s?void 0:s.visitor_filter_column)&&r&&r!==d.k?{property:s.visitor_filter_column,[s.visitor_filter_column_type]:{["select"===s.visitor_filter_column_type?"equals":"contains"]:w(null===(a=g[s.visitor_filter_column_type])||void 0===a?void 0:a["select"===s.visitor_filter_column_type?"equals":"contains"],r)}}:void 0,p=(null==s?void 0:s.sort_column)?[{property:s.sort_column,direction:s.sort_direction}]:void 0;return h.getDataQuery(t,o,u&&c?{and:[u,c]}:u||c,p,i,null==s?void 0:s.max_items)},constructGetDataResult:t=>{let e=null==t?void 0:t.results;if(!e)return{data:[],has_more:null==t?void 0:t.has_more,next_cursor:null==t?void 0:t.next_cursor,expires_at:null};let i=null,n=[];return e.forEach((t=>{if(null==t?void 0:t.properties){let e={},r=null==t?void 0:t.properties;Object.entries(r).forEach((t=>{let[n,r]=t,{propValue:l,expiresAt:a}=b(r);a&&(i=i&&new Date(i).getTime()<new Date(a).getTime()?i:a),l&&(e[n]=l)})),e[v.it]=null==t?void 0:t.id,n.push(e)}})),{data:n,has_more:null==t?void 0:t.has_more,next_cursor:null==t?void 0:t.next_cursor,expires_at:i}},getData:async(t,e,i,n)=>{let r=q.getDataQuery(t,e,i,n),l=await h.callQuery(r.path,r.data);return q.constructGetDataResult(null==l?void 0:l.data)},getDataBySlug:async(t,e,i)=>{var r,l,a;let o=null==e?void 0:e[n.TABLE_ID],s={property:v.OH.SLUG.fieldName,[v.OH.SLUG.type]:{equals:i}},u=h.getDataQuery(t,o,s,void 0,void 0,1),c=await h.callQuery(u.path,u.data),d=q.constructGetDataResult(null==c?void 0:c.data);if((null==d||null===(r=d.data)||void 0===r?void 0:r.length)<=0)throw Error("item page not found");let p=null==d||null===(l=d.data)||void 0===l?void 0:l[0],m=await q.JSONFileToContent(p,e),_=null==e||null===(a=e.pageSchema)||void 0===a?void 0:a.metadata;return m[_]=m[_]?JSON.parse(m[_]):m[_],d.data[0]=m,d},getDataWithSearchQueryAndFilter:async(t,e,i,r,l,a)=>{var o,s,u,c,p;let m=null==e?void 0:e[n.TABLE_ID],_=null==e?void 0:e.metadata,v=(null==_?void 0:_.filter_column)?{property:_.filter_column,[_.filter_column_type]:{[_.filter_condition]:w(null===(o=g[_.filter_column_type])||void 0===o?void 0:o[_.filter_condition],_.filter_value)}}:void 0,y=(null==_?void 0:_.visitor_filter_column)&&a&&a!==d.k?{property:_.visitor_filter_column,[_.visitor_filter_column_type]:{["select"===_.visitor_filter_column_type?"equals":"contains"]:w(null===(s=g[_.visitor_filter_column_type])||void 0===s?void 0:s["select"===_.visitor_filter_column_type?"equals":"contains"],a)}}:void 0,b=v&&y?{and:[v,y]}:v||y,x=null==_?void 0:_.search_columns;x=Array.isArray(x)&&(null===(u=x)||void 0===u?void 0:u.length)>0?x:Object.keys(r);let k=[];i&&x.forEach((t=>{let e=r[t];if(f[e.type]){let{key:t,type:n}=f[e.type],r=w(n,i);if(null!=r&&""!==r){if("string"===n)return void(k=k.concat([{property:e.name,[e.type]:{[t]:r}},{property:e.name,[e.type]:{[t]:r.toLowerCase()}},{property:e.name,[e.type]:{[t]:r.toUpperCase()}},{property:e.name,[e.type]:{[t]:r.charAt(0).toUpperCase()+r.slice(1)}},{property:e.name,[e.type]:{[t]:function(t){return t.split(" ").map((t=>t[0].toUpperCase()+t.substring(1))).join(" ")}(r)}}]));k.push({property:e.name,[e.type]:{[t]:r}})}}}));let C=b;(null===(c=k)||void 0===c?void 0:c.length)>0&&b&&(C={and:[b,{or:k}]}),(null===(p=k)||void 0===p?void 0:p.length)>0&&!b&&(C={or:k});let S=(null==_?void 0:_.sort_column)?[{property:null==_?void 0:_.sort_column,direction:null==_?void 0:_.sort_direction}]:void 0,D=h.getDataQuery(t,m,C,S,l,null==_?void 0:_.max_items),I=await h.callQuery(D.path,D.data);return q.constructGetDataResult(null==I?void 0:I.data)},getItemPageDataID:t=>{let e=null==t?void 0:t.integration,i=null==t?void 0:t[n.TABLE_ID];return"".concat(e,"_").concat(i)},tableConnected:t=>t&&(null==t?void 0:t[n.TABLE_ID]),JSONFileToContent:async(t,e)=>{var i;let n=null==e||null===(i=e.pageSchema)||void 0===i?void 0:i.content;if(t&&t[n]){let e=t[n],i=await m().get(e,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}),r=(null==i?void 0:i.data)?JSON.parse(null==i?void 0:i.data):null;t[n]=r}return t},getDataOnBuild:()=>!1};var x=t=>{switch(t){case"notion":return q;case"td_cms":return c;default:throw Error("Unknown integration ".concat(t))}}},24097:function(t,e,i){var n=i(203),r=i(16318);let l=(t,e,i)=>{let r={...i};if(n.W_.isElement(r))if("rich_text_content"===r.type){let i=e.content,n=t[i];try{var a;let t=null==n||null===(a=n[0])||void 0===a?void 0:a.children;t&&(r.children=t)}catch(t){}}else r.children=r.children.map((i=>l(t,e,i)));return r};e.Z=(t,e,i,n,a,o)=>{let s={...o,id:o.id||a()};return t&&e.contentSchema&&(s=(0,r.Z)(t,e.contentSchema,i,n,o),s=l(t,e.pageSchema,s)),s}},88262:function(t,e,i){i.d(e,{wo:function(){return n}}),i(18851);let n=(0,i(77068).Z)((function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i={};return(null==t?void 0:t.page_id)&&(i[t.page_id]=e,(null==t?void 0:t.children_template_page_id)&&(i[t.children_template_page_id]=e),t.children&&Object.keys(t.children).forEach((r=>{Object.assign(i,n(t.children[r],[...e,r]))}))),i}))},43509:function(t,e,i){var n,r;i.d(e,{P:function(){return n}}),(r=n||(n={})).PILL="pill",r.PILL_BG="pillWithBackground",r.TAB="tab",r.SQUARE_BG="squareWithBackground",r.LEFT_COLUMN="leftColumn"},23595:function(t,e,i){i.d(e,{L:function(){return R},k:function(){return F}});var n={};i.r(n),i.d(n,{filterContainer_leftColumn:function(){return p},filterContainer_pill:function(){return m},filterContainer_pillWithBackground:function(){return _},filterContainer_squareWithBackground:function(){return v},filterContainer_tab:function(){return h},filterItemActive_leftColumn:function(){return f},filterItemActive_pill:function(){return g},filterItemActive_pillWithBackground:function(){return y},filterItemActive_squareWithBackground:function(){return b},filterItemActive_tab:function(){return w},filterItemWrapper_leftColumn:function(){return q},filterItemWrapper_pill:function(){return x},filterItemWrapper_pillWithBackground:function(){return k},filterItemWrapper_squareWithBackground:function(){return C},filterItemWrapper_tab:function(){return S},filterItem_leftColumn:function(){return D},filterItem_pill:function(){return I},filterItem_pillWithBackground:function(){return T},filterItem_squareWithBackground:function(){return L},filterItem_tab:function(){return j},filterNavNext:function(){return E},filterNavPrev:function(){return N},filterWrapper_leftColumn:function(){return A},filterWrapper_pill:function(){return W},filterWrapper_pillWithBackground:function(){return O},filterWrapper_squareWithBackground:function(){return P},filterWrapper_tab:function(){return B}});var r=i(24228),l=i(93765),a=i(81632),o=i(2049),s=i(72779),u=i.n(s),c=i(2784),d=i(43509),p="vvqwo72",m="vvqwo73 vvqwo70",_="vvqwo74 vvqwo71 vvqwo70",v="vvqwo75 vvqwo71 vvqwo70",h="vvqwo76 vvqwo70",f="vvqwo7d",g="vvqwo79 vvqwo78",y="vvqwo7a vvqwo78",b="vvqwo7b vvqwo78",w="vvqwo7c",q="vvqwo7o",x="vvqwo7k vvqwo7j",k="vvqwo7l vvqwo7j",C="vvqwo7m vvqwo7j",S="vvqwo7n vvqwo7j",D="vvqwo7i",I="vvqwo7f vvqwo77",T="vvqwo7g vvqwo77",L="vvqwo7h vvqwo77",j="vvqwo7e vvqwo77",E="vvqwo7w vvqwo7v",N="vvqwo7x vvqwo7v",A="vvqwo7p",W="vvqwo7r vvqwo7q",O="vvqwo7s vvqwo7q",P="vvqwo7t vvqwo7q",B="vvqwo7u vvqwo7q",M=i(52322);let F="All";function R(t){let{filters:e,filterStyle:i=d.P.PILL,filterColor:s,selectedFilter:p,setSelectedFilter:m}=t,_=(0,c.useRef)(null),[v,h]=(0,c.useState)(0),[f,g]=(0,c.useState)(!1),y=_.current&&i!==d.P.LEFT_COLUMN&&_.current.scrollWidth>_.current.offsetWidth,b=t=>t?i===d.P.TAB?"white"===s||"gray"===s?"var(--text)":"var(--accent)":"gray"===s?"var(--text)":"white"===s?"var(--text-light-theme)":"var(--text-on-accent)":"var(--text-lighter)",w=t=>t&&i===d.P.TAB?"white"===s||"gray"===s?"var(--text-light)":"var(--accent)":"transparent";(0,c.useEffect)((()=>{_.current&&y&&(v>=_.current.scrollWidth-_.current.offsetWidth-1?g(!0):g(!1))}),[v,y]);let q=t=>{_.current&&(_.current.scrollLeft+=t,h(v+t))};return(0,M.jsxs)("div",{className:u()(n["filterWrapper_".concat(i)]),style:{"--accent":(0,a.Tj)(s,o.z7)},children:[(0,M.jsx)("div",{className:n["filterContainer_".concat(i)],children:(0,M.jsxs)("div",{className:n["filterItemWrapper_".concat(i)],ref:_,onScroll:y?()=>{_.current&&h(_.current.scrollLeft)}:()=>{},children:[(0,M.jsx)("button",{type:"button",onClick:()=>m(F),className:u()(n["filterItem_".concat(i)],{[n["filterItemActive_".concat(i)]]:p===F}),style:{color:b(p===F),borderColor:w(p===F),boxShadow:p===F&&i!==d.P.TAB?"0 10px 20px -10px ".concat((0,a.Tj)(s,o.My)):"none"},children:F}),e.map((t=>(0,M.jsx)("button",{type:"button",onClick:()=>m(t),className:u()(n["filterItem_".concat(i)],{[n["filterItemActive_".concat(i)]]:p===t}),style:{color:b(p===t),borderColor:w(p===t),boxShadow:p===t&&i!==d.P.TAB?"0 10px 20px -10px ".concat((0,a.Tj)(s,o.My)):"none"},children:t},t)))]})}),y&&0!==v&&(0,M.jsx)("div",{className:N,children:(0,M.jsx)("button",{type:"button",onClick:()=>q(-300),children:(0,M.jsx)(r.s,{size:28})})}),y&&!f&&(0,M.jsx)("div",{className:E,children:(0,M.jsx)("button",{type:"button",onClick:()=>q(300),children:(0,M.jsx)(l._,{size:28})})})]})}R.defaultProps={selectedFilter:F,filterStyle:d.P.PILL,filterColor:"accent"}}}]);